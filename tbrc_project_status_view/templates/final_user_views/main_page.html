{% set main_page_data = main_page_data_collection() %}

{% extends 'general_template.html' %}
{% block css_dependencies_loaders%}

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
{% endblock %}

{% block html%}

<div class="container s100021">
    
    <div class="row s100022">
        
    </div>
    
    <div class="row s100023">
        
        <div class="col s100024">
            
            <table class="home-table table-element">
                
                <tr class="s100025 tr-element">
                    
                    <td 
                        class="s100026 td-element" 
                        
                        
                    >
                        
                        <div class="s100027 div-element">
                            
                            <h1 class="s100028 h1-element">
                                
                                {{main_page_data['main_page_title']}}
                                
                            </h1>
                            
                            <div class="s100030 div-element">
                                
                                <form action="{{main_page_data['main_page_search_action']}}" method="{{main_page_data['main_page_search_method']}}" class="akuro-form s100031 stable-form-container" data-akuro-ct="stable-form-container" data-akuro-c="s100031">
                                  <!-- Form input components here. Labels will be visible -->
                                  
                                  
                                  <div class="project-search sponzo-filter-text" data-akuro-ct="sponzo-filter-text" data-akuro-c="project-search">
                                      
                                      <div class="input-container">
                                        <img src="{{main_page_data['main_page_search_icon']}}" alt="...">    
                                        <input type="text" name="project_search" id="project_search" placeholder="{{main_page_data['main_page_placeholder']}}">
                                      </div>
                                    </div>
                                  

                                </form>
                                
                            </div>
                            
                        </div>
                        
                    </td>
                    
                    {% if general_data['edit_mode_on'] %}

                    <td 
                        class="s100033 td-element" 
                        
                        
                    >
                        
                    </td>

                    {%endif%}
                    
                </tr>
                
                {%for project in main_page_data.main_page_projects %}

                <tr class="s100035 tr-element">
                    
                    <td 
                        class="s100036 td-element" 
                        
                        
                    >
                        
                        <div class="s100037 div-element">
                            
                            <div class="s100038 div-element">
                                
                                <h3 class="s100039 h3-element" >
                                    
                                    {% set simple_link = project.project_href %}

                                    <a href="{{simple_link['link_href']}}" target="{{simple_link['link_target']}}" class="s100041 simple-anchor">{{simple_link['link_label']}}</a>

                                    
                                </h3>
                                
                                <div class="s100042 div-element">
                                    
                                    {{project['project_subtitle']}}
                                    
                                    {% if not general_data['edit_mode_on'] %}

                                    {% set simple_link = project.project_gallery_link %}

                                    <a href="{{simple_link['link_href']}}" target="{{simple_link['link_target']}}" class="s100046 simple-anchor">{{simple_link['link_label']}}</a>


                                    {%endif%}
                                    
                                </div>
                                
                            </div>
                            
                            {% if general_data['edit_mode_on'] %}

                            {% set simple_link = project.project_edit_link %}

                            <div class="project-edit-icon-container">
                                <a href="{{simple_link['link_href']}}" target="{{simple_link['link_target']}}">
                                    <img src="{{simple_link['simple_link_image']}}"/>
                                </a>
                            </div>


                            {%endif%}
                            
                        </div>
                        
                    </td>
                    
                    {% if general_data['edit_mode_on'] %}

                    <td 
                        class="s100050 td-element" 
                        
                        
                    >
                        
                        {% set simple_link = project.project_gallery_link %}

                        <a href="{{simple_link['link_href']}}" target="{{simple_link['link_target']}}" class="s100052 simple-anchor">{{simple_link['link_label']}}</a>

                        
                    </td>

                    {%endif%}
                    
                </tr>

                {%endfor%}
                
                <tr class="s100053 tr-element">
                    
                    <td 
                        class="s100054 td-element" 
                        
                        
                    >
                        
                        {% if general_data['edit_mode_on'] %}

                        {% set simple_link = main_page_data.main_page_new_project_link %}

                        <a href="{{simple_link['link_href']}}" target="{{simple_link['link_target']}}" class="s100057 simple-anchor">{{simple_link['link_label']}}</a>


                        {%endif%}
                        
                    </td>
                    
                    <td 
                        class="s100058 td-element" 
                        
                        
                    >
                        
                    </td>
                    
                    <td 
                        class="s100059 td-element" 
                        
                        
                    >
                        
                    </td>
                    
                </tr>
                
            </table>
            
            <div class="s100060 div-element">
                
            </div>
            
        </div>
        
    </div>
    
    <div class="row s100061">
        
        <div class="col-12 col-md-12 s100062">
            
            <div class="pager s100063" data-akuro-ct="tbrc-paginator" data-akuro-c="s100063">
                {%if main_page_data['main_page_paginator_prev'] not in ['None','',' ', None] %} 
                <a class="page-link" href="{{main_page_data['main_page_paginator_prev']}}" aria-label="Previous">
                  <span aria-hidden="true">&lt;</span>
                </a>
                {%endif%}
                <a class="page-link current" href="#" aria-label="Current">{{main_page_data['main_page_paginator_current']}}</a>
                <span>of {{main_page_data['main_page_paginator_total']}}</span>
                {%if main_page_data['main_page_paginator_next'] not in ['None','',' ', None] %} 
                <a class="page-link" href="{{main_page_data['main_page_paginator_next']}}" aria-label="Next">
                  <span aria-hidden="true">&gt;</span>
                </a>
                {%endif%}
            </div>
            
        </div>
        
    </div>
    
</div>

{% endblock %}

{% block support_html%}

<!-- s100021-->

{% endblock %}

{% block js_dependencies_loaders%}

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
{% endblock %}

{% block js_initialization%}
















<script>
  akuro.registerComponent("sponzo-filter-text", [], (elm) => {

    class AkuroInput {
      constructor(elm) {
        this.elm = elm;
        this.input = this.elm.querySelector("input");
      }
      getValue() {
        return this.input.value;
      }
      getName() {
        return this.input.name;
      }
      addSearchListener(method) {
        let _this = this;
        this.input.addEventListener("keyup", (evt)=>{
          method(_this.input.name, _this.getValue());
        })
      }
      validate() {
        return [];
      }
    }
    return new AkuroInput(elm)
  })
  akuro.instantiate("sponzo-filter-text", document.querySelectorAll(".project-search"))
</script>

<script>
  akuro.registerComponent("stable-form-container", [], (elm)=>{
    let error_space = elm.querySelector(".alert-space");

    class AkuroForm{
      constructor(elm){
          this.elm = elm;
      }
      validate(){
        let errors = [];         
        this.elm.querySelectorAll("[data-akuro_key]").forEach((input)=>{
            try{
                errors = errors.concat(akuro.getElm(input).validate());
            }catch(e){console.log(e);}
        });
        
        if (errors.length > 0) {
          let join_errors = errors.join("<br>");
          error_space.innerHTML = `<div class="alert alert-danger line" role="alert">${join_errors}</div>`;
        } else {
          this.elm.submit();
        }
      }
  }

    return new AkuroForm(elm)
  })
  akuro.instantiate("stable-form-container", document.querySelectorAll(".s100031"))
</script>












































































{% endblock %}
